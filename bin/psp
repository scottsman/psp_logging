#! /usr/bin/env python

import psp.logging
from psp.process_manager import ProcessManager
from psp.argument_parser import PspParser

parser = PspParser()
args = parser.parse_args()

# TODO move into launcher
psp.logging.setup(verbosity_level=args.verbosity)

# TODO move into launcher
_log_file = '/tmp/psp.log'
_current_process_file = '/tmp/current_process'

manager = ProcessManager(
    _log_file,
    _current_process_file
)

# TODO move into launcher
action = args.action[0]
name = args.name[0]
if action == 'start':
    manager.start_process(name)
elif action == 'stop':
    manager.stop_process()
